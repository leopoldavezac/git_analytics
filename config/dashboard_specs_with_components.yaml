knowledge_perenity:
  layout: [
    [component_specialization],
    [module_specialization],
    [lang_specialization]
  ]

  stats:
    component_specialization:
      nm: 'component specialization : prop of component coded by dev'
      def:
        concept: specialization
        entity: ['author_nm', 'component_nm']
        mesure: n_code_lines_inserted
        aggfunc: sum
        normalize_axis: 1
        unstack_level: 0
        xaxis_title: 'Component'
        yaxis_title: 'Developer'
      source_df_nm: commits_files

    module_specialization:
      nm: 'module specialization : prop of module coded by dev'
      def:
        concept: specialization
        entity: ['author_nm', 'module_nm']
        mesure: n_code_lines_inserted
        aggfunc: sum
        normalize_axis: 1
        unstack_level: 0
        xaxis_title: 'Module'
        yaxis_title: 'Developer'
      source_df_nm: commits_files

    lang_specialization:
      nm: 'lang specialization : prop of lang coded by dev'
      def:
        concept: specialization
        entity: ['author_nm', 'ext']
        mesure: n_code_lines_inserted
        aggfunc: sum
        normalize_axis: 1
        unstack_level: 0
        xaxis_title: 'Language'
        yaxis_title: 'Developer'
      source_df_nm: commits_files

coding_activity:
  layout: [
    [activity_evolution],
    [dev_evolution],
    [module_stability],
    [component_stability],
  ]  

  stats:
    activity_evolution:
      nm: 'activity evolution'
      def:
        concept: evolution
        freq: M
        mesure: n_code_lines_inserted
        aggfunc: sum
        xaxis_title: 'Date'
        yaxis_title: 'Number of lines of code'
      source_df_nm: commits_files

    dev_evolution:
      nm: 'dev stability : prop of activity by dev'
      def:
        concept: stability
        freq: M
        mesure: n_code_lines_inserted
        entity: author_nm
        aggfunc: sum
        normalize_axis: 1
        unstack_level: 0
        xaxis_title: 'Date'
        yaxis_title: 'Developer'
      source_df_nm: commits_files
      
    module_stability:
      nm: 'module stability : prop of module coded by month'
      def:
        concept: stability
        freq: M
        mesure: n_code_lines_inserted
        entity: module_nm
        aggfunc: sum
        normalize_axis: 1
        unstack_level: 0
        xaxis_title: 'Date'
        yaxis_title: 'Module'
      source_df_nm: commits_files

    component_stability:
      nm: 'component stability : prop of component coded by month'
      def:
        concept: stability
        freq: M
        mesure: n_code_lines_inserted
        entity: component_nm
        aggfunc: sum
        normalize_axis: 1
        unstack_level: 0
        xaxis_title: 'Date'
        yaxis_title: 'Component'
      source_df_nm: commits_files

overview:
  layout: [
    [component_size, module_size],
    [lang_repartition, dev_activity]
  ]  

  stats:
    component_size:
      nm: 'component size'
      def:
        concept: size
        entity: component_nm
        mesure: n_code_lines_inserted
        aggfunc: sum
        xaxis_title: 'Number of lines of code'
        yaxis_title: 'Component'
      source_df_nm: commits_files

    module_size:
      nm: 'module size'
      def:
        concept: size
        entity: module_nm
        mesure: n_code_lines_inserted
        aggfunc: sum
        xaxis_title: 'Number of lines of code'
        yaxis_title: 'Module'
      source_df_nm: commits_files

    lang_repartition:
      nm: 'language repartition'
      def:
        concept: repartition
        entity: ext
        mesure: n_code_lines_inserted
        aggfunc: sum
      source_df_nm: commits_files

    dev_activity:
      nm: 'developer activity'
      def:
        concept: size
        entity: author_nm
        mesure: n_code_lines_inserted
        aggfunc: sum
        xaxis_title: 'Number of lines of code'
        yaxis_title: 'Developer'
      source_df_nm: commits_files